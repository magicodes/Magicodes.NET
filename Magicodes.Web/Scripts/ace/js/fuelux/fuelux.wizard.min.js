(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)})(function(n){var i=n.fn.wizard,t=function(t,i){var r;this.$element=n(t);this.options=n.extend({},n.fn.wizard.defaults,i);this.options.disablePreviousStep=this.$element.attr("data-restrict")==="previous"?!0:this.options.disablePreviousStep;this.currentStep=this.options.selectedItem.step;this.numSteps=this.$element.find(".steps li").length;this.$prevBtn=this.$element.find("button.btn-prev");this.$nextBtn=this.$element.find("button.btn-next");r=this.$nextBtn.children().detach();this.nextText=n.trim(this.$nextBtn.text());this.$nextBtn.append(r);this.$prevBtn.on("click.fu.wizard",n.proxy(this.previous,this));this.$nextBtn.on("click.fu.wizard",n.proxy(this.next,this));this.$element.on("click.fu.wizard","li.complete",n.proxy(this.stepclicked,this));this.selectedItem(this.options.selectedItem);this.options.disablePreviousStep&&(this.$prevBtn.attr("disabled",!0),this.$element.find(".steps").addClass("previous-disabled"))};t.prototype={constructor:t,destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},addSteps:function(t){var i=[].slice.call(arguments).slice(1),o=this.$element.find(".steps"),s=this.$element.find(".step-content"),r,h,e,c,u,f;for(t=t===-1||t>this.numSteps+1?this.numSteps+1:t,i[0]instanceof Array&&(i=i[0]),u=o.find("li:nth-child("+t+")"),c=s.find(".step-pane:nth-child("+t+")"),u.length<1&&(u=null),r=0,h=i.length;r<h;r++)f=n('<li data-step="'+t+'"><span class="badge badge-info"><\/span><\/li>'),f.append(i[r].label||"").append('<span class="chevron"><\/span>'),f.find(".badge").append(i[r].badge||t),e=n('<div class="step-pane" data-step="'+t+'"><\/div>'),e.append(i[r].pane||""),u?(u.before(f),c.before(e)):(o.append(f),s.append(e)),t++;this.syncSteps();this.numSteps=o.find("li").length;this.setState()},removeSteps:function(t,i){var f="nextAll",e=0,r=this.$element.find(".steps"),o=this.$element.find(".step-content"),u;i=i!==undefined?i:1;t>r.find("li").length?u=r.find("li:last"):(u=r.find("li:nth-child("+t+")").prev(),u.length<1&&(f="children",u=r));u[f]().each(function(){var t=n(this),r=t.attr("data-step");if(e<i)t.remove(),o.find('.step-pane[data-step="'+r+'"]:first').remove();else return!1;e++});this.syncSteps();this.numSteps=r.find("li").length;this.setState()},setState:function(){var a=this.currentStep>1,v=this.currentStep===1,y=this.currentStep===this.numSteps,i,r,o,u,s,f,h,t,e,c,l;this.options.disablePreviousStep||this.$prevBtn.attr("disabled",v===!0||a===!1);i=this.$nextBtn.attr("data-last");i&&(this.lastText=i,r=this.nextText,y===!0?(r=this.lastText,this.$element.addClass("complete")):this.$element.removeClass("complete"),o=this.$nextBtn.children().detach(),this.$nextBtn.text(r).append(o));u=this.$element.find(".steps li");u.removeClass("active").removeClass("complete");u.find("span.badge").removeClass("badge-info").removeClass("badge-success");s=".steps li:lt("+(this.currentStep-1)+")";f=this.$element.find(s);f.addClass("complete");f.find("span.badge").addClass("badge-success");h=".steps li:eq("+(this.currentStep-1)+")";t=this.$element.find(h);t.addClass("active");t.find("span.badge").addClass("badge-info");e=this.$element.find(".step-content");c=t.attr("data-step");e.find(".step-pane").removeClass("active");e.find('.step-pane[data-step="'+c+'"]:first').addClass("active");typeof this.initialized!="undefined"&&(l=n.Event("changed.fu.wizard"),this.$element.trigger(l,{step:this.currentStep}));this.initialized=!0},stepclicked:function(t){var f=n(t.currentTarget),i=this.$element.find(".steps li").index(f),u=!0,r;if(this.options.disablePreviousStep&&i<this.currentStep&&(u=!1),u){if(r=n.Event("stepclicked.fu.wizard"),this.$element.trigger(r,{step:i+1}),r.isDefaultPrevented())return;this.currentStep=i+1;this.setState()}},syncSteps:function(){var t=1,i=this.$element.find(".steps"),r=this.$element.find(".step-content");i.children().each(function(){var i=n(this),u=i.find(".badge"),f=i.attr("data-step");isNaN(parseInt(u.html(),10))||u.html(t);i.attr("data-step",t);r.find('.step-pane[data-step="'+f+'"]:last').attr("data-step",t);t++})},previous:function(){var i=this.currentStep>1,t;if(this.options.disablePreviousStep&&(i=!1),i){if(t=n.Event("actionclicked.fu.wizard"),this.$element.trigger(t,{step:this.currentStep,direction:"previous"}),t.isDefaultPrevented())return;this.currentStep-=1;this.setState()}this.$prevBtn.is(":disabled")?this.$nextBtn.focus():this.$prevBtn.focus()},next:function(){var i=this.currentStep+1<=this.numSteps,r=this.currentStep===this.numSteps,t;if(i){if(t=n.Event("actionclicked.fu.wizard"),this.$element.trigger(t,{step:this.currentStep,direction:"next"}),t.isDefaultPrevented())return;this.currentStep+=1;this.setState()}else r&&this.$element.trigger("finished.fu.wizard");this.$nextBtn.is(":disabled")?this.$prevBtn.focus():this.$nextBtn.focus()},selectedItem:function(n){var i,t;return n?(t=n.step||-1,t>=1&&t<=this.numSteps?(this.currentStep=t,this.setState()):(t=this.$element.find(".steps li.active:first").attr("data-step"),isNaN(t)||(this.currentStep=parseInt(t,10),this.setState())),i=this):i={step:this.currentStep},i}};n.fn.wizard=function(i){var u=Array.prototype.slice.call(arguments,1),r,f=this.each(function(){var e=n(this),f=e.data("fu.wizard"),o=typeof i=="object"&&i;f||e.data("fu.wizard",f=new t(this,o));typeof i=="string"&&(r=f[i].apply(f,u))});return r===undefined?f:r};n.fn.wizard.defaults={disablePreviousStep:!1,selectedItem:{step:-1}};n.fn.wizard.Constructor=t;n.fn.wizard.noConflict=function(){return n.fn.wizard=i,this};n(document).on("mouseover.fu.wizard.data-api","[data-initialize=wizard]",function(t){var i=n(t.target).closest(".wizard");i.data("fu.wizard")||i.wizard(i.data())});n(function(){n("[data-initialize=wizard]").each(function(){var t=n(this);t.data("fu.wizard")||t.wizard(t.data())})})});
//# sourceMappingURL=fuelux.wizard.min.js.map
